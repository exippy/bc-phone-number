!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.bcPhoneNumber=e()}}(function(){return function e(n,r,o){function t(i,l){if(!r[i]){if(!n[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(u)return u(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var a=r[i]={exports:{}};n[i][0].call(a.exports,function(e){var r=n[i][1][e];return t(r?r:e)},a,a.exports,e,n,r,o)}return r[i].exports}for(var u="function"==typeof require&&require,i=0;i<o.length;i++)t(o[i]);return t}({1:[function(e,n,r){angular.module("bcPhoneNumberTemplates",[]).run(["$templateCache",function(e){e.put("bc-phone-number/bc-phone-number.html",'<section class="input-group">\r\n  <label for="{{name}}" ng-if="label">{{label}}</label>\r\n  <div class="input-group-btn" uib-dropdown uib-keyboard-nav>\r\n    <button type="button" class="btn btn-default" type="button" uib-dropdown-toggle>\r\n      <span class="glyphicon iti-flag bc-phone-number-flag" ng-class="selectedCountry.iso2Code"></span><span class="caret"></span>\r\n      <span class="sr-only">Select country: {{selectedCountry.name}}</span>\r\n    </button>\r\n    <ul class="uib-dropdown-menu bc-phone-number-dropdown-menu dropdown-menu" role="menu">\r\n      <li ng-repeat="country in preferredCountries" ng-click="selectCountry(country)"\r\n          ng-class="{active: isCountrySelected(country)}" role="menuitem">\r\n        <a href="#" ng-click="$event.preventDefault()" class="bc-phone-number-country-anchor">\r\n          <i class="glyphicon iti-flag bc-phone-number-country-icon" ng-class="country.iso2Code"></i>\r\n          <span ng-bind="country.name"></span>\r\n        </a>\r\n      </li>\r\n      <li role="separator" class="divider" ng-show="preferredCountries && preferredCountries.length"></li>\r\n      <li ng-repeat="country in allCountries" ng-click="selectCountry(country)"\r\n          ng-class="{active: isCountrySelected(country)}" role="menuitem">\r\n        <a href="#" ng-click="$event.preventDefault()" class="bc-phone-number-country-anchor">\r\n          <i class="glyphicon iti-flag bc-phone-number-country-icon" ng-class="country.iso2Code"></i>\r\n          <span ng-bind="country.name"></span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <input type="tel" name="{{name}}" id="{{name}}" class="form-control" ng-model="number" ng-disabled="ngDisabled" ng-change="changed()"/>\r\n</section>\r\n')}])},{}],2:[function(e,n,r){(function(r){"use strict";var o="undefined"!=typeof window?window.bcCountries:"undefined"!=typeof r?r.bcCountries:null,t="undefined"!=typeof window?window.angular:"undefined"!=typeof r?r.angular:null;r.angular=t,e("../build/js/templates"),t.module("bcPhoneNumber",["bcPhoneNumberTemplates","ui.bootstrap"]).service("bcPhoneNumber",function(){this.isValid=o.isValidNumber,this.format=o.formatNumber}).directive("bcPhoneNumber",function(){function e(e){for(var n=[],r=0;r<e.length;r++){var t=o.getCountryByIso2Code(e[r]);t&&n.push(t)}return n}if("undefined"==typeof o)throw new"bc-countries not found, did you forget to load the Javascript?";return{templateUrl:"bc-phone-number/bc-phone-number.html",require:"ngModel",scope:{preferredCountriesCodes:"@preferredCountries",defaultCountryCode:"@defaultCountry",selectedCountry:"=?",isValid:"=",ngModel:"=",ngChange:"&",ngDisabled:"=",name:"@",label:"@"},link:function(n,r,t,u){if(n.selectedCountry=o.getCountryByIso2Code(n.defaultCountryCode||"us"),n.allCountries=o.getAllCountries(),n.number=n.ngModel,n.changed=function(){n.ngChange()},n.preferredCountriesCodes){var i=n.preferredCountriesCodes.split(" ");n.preferredCountries=e(i)}n.selectCountry=function(e){n.selectedCountry=e,n.number=n.ngModel=o.changeDialCode(n.number,e.dialCode)},n.isCountrySelected=function(e){return e.iso2Code==n.selectedCountry.iso2Code},n.resetCountry=function(){var e=n.defaultCountryCode;if(e){var r=o.getCountryByIso2Code(e),t=o.changeDialCode(n.number,r.dialCode);n.selectedCountry=r,n.ngModel=t,n.number=t}},n.resetCountry(),n.$watch("ngModel",function(e){n.number=e}),n.$watch("number",function(e){u.$setValidity("phoneNumber",o.isValidNumber(e)),n.isValid=o.isValidNumber(e)}),n.$watch("number",function(e){if(""===e)n.ngModel="";else if(e){var r=o.getDigits(e),t=o.getIso2CodeByDigits(r);if(t){var u=o.getDialCodeByDigits(r),i=o.formatNumber(e);u!==n.selectedCountry.dialCode&&(n.selectedCountry=o.getCountryByIso2Code(t)),n.ngModel=i,n.number=i}else n.ngModel=e}})}}}),n.exports="bcPhoneNumber"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../build/js/templates":1}]},{},[2])(2)});